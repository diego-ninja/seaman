#!/usr/bin/env php
<?php

// ABOUTME: CLI entry point for Seaman application.
// ABOUTME: Bootstraps Symfony Console Application.

declare(strict_types=1);

if (false === in_array(PHP_SAPI, ['cli', 'phpdbg', 'embed'], true)) {
    echo PHP_EOL . 'This app may only be invoked from a command line, got "' . PHP_SAPI . '"' . PHP_EOL;
    exit(1);
}

(static function (): void {
    if (file_exists($autoload = __DIR__ . '/../vendor/autoload.php')) {
        include_once $autoload;
        return;
    }
    throw new RuntimeException('Unable to find the Composer autoloader.');
})();

$application = new Seaman\Application();
exit($application->run());
